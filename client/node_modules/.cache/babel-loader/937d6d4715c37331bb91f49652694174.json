{"ast":null,"code":"var _jsxFileName = \"/home/hoangnd/Documents/hust/20202/project/livestream/client/src/components/chat.component.js\";\nimport { Component } from 'react';\nimport '../pages/styles/ChatContainer.css';\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport Message from './message.component';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ChatContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentUser: props.currentUser,\n      messageCommit: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.UpdateScroll();\n  }\n\n  UpdateScroll() {\n    let element = document.getElementById(\"msghistory\");\n    element.scrollTop = element.scrollHeight;\n  }\n\n  componentDidUpdate() {\n    this.UpdateScroll();\n  } // componentWillReceiveProps(newProps) {\n  //   if (this.state.messHistory !== newProps.messHistory) {\n  //     this.setState({ messHistory: newProps.messHistory });\n  //   }\n  // }\n\n\n  ChangeMessageCommit(event) {\n    this.setState({\n      messageCommit: event.target.value\n    });\n  }\n\n  CommitMessage(event) {\n    if (this.state.messageCommit !== \"\") {\n      this.props.commitMessage(this.state.messageCommit);\n      this.setState({\n        messageCommit: \"\"\n      });\n    }\n\n    event.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \" text-center\",\n        children: \"Messaging\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messaging\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inbox_msg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mesgs\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"msg_history\",\n              id: \"msghistory\",\n              children: [/*#__PURE__*/_jsxDEV(Message, {\n                isUser: true,\n                message: \"Hi there, i'm Hoang\",\n                time: \"2020/01/02\",\n                username: \"hoangnd\"\n              }, 1, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Message, {\n                isUser: false,\n                message: \"Hi there, i'm Hoang\",\n                time: \"2020/01/02\",\n                username: \"hoangnd\"\n              }, 2, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Message, {\n                isUser: false,\n                message: \"Hi there, i'm Hoang\",\n                time: \"2020/01/02\",\n                username: \"hoangnd\"\n              }, 3, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 17\n              }, this), this.props.messageList.map((value, index) => {\n                return /*#__PURE__*/_jsxDEV(Message, {\n                  isUser: value.user === this.state.currentUser ? true : false,\n                  message: value.message,\n                  time: value.time,\n                  username: value.user\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 23\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"type_msg\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input_msg_write\",\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: this.state.messageCommit,\n                    className: \"write_msg\",\n                    placeholder: \"Type a message\",\n                    onChange: this.ChangeMessageCommit.bind(this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"msg_send_btn\",\n                    type: \"submit\",\n                    onClick: e => this.CommitMessage(e),\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-paper-plane-o\",\n                      \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 107,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ChatContainer;","map":{"version":3,"sources":["/home/hoangnd/Documents/hust/20202/project/livestream/client/src/components/chat.component.js"],"names":["Component","Message","ChatContainer","constructor","props","state","currentUser","messageCommit","componentDidMount","UpdateScroll","element","document","getElementById","scrollTop","scrollHeight","componentDidUpdate","ChangeMessageCommit","event","setState","target","value","CommitMessage","commitMessage","preventDefault","render","messageList","map","index","user","message","time","bind","e"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAO,mCAAP;AACA,OAAO,0DAAP;AACA,OAAOC,OAAP,MAAoB,qBAApB;;;AAEA,MAAMC,aAAN,SAA4BF,SAA5B,CAAsC;AACpCG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAEF,KAAK,CAACE,WADR;AAEXC,MAAAA,aAAa,EAAE;AAFJ,KAAb;AAID;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,YAAL;AACD;;AAEDA,EAAAA,YAAY,GAAG;AACb,QAAIC,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAd;AACAF,IAAAA,OAAO,CAACG,SAAR,GAAoBH,OAAO,CAACI,YAA5B;AACD;;AAEDC,EAAAA,kBAAkB,GAAG;AACnB,SAAKN,YAAL;AACD,GApBmC,CAsBpC;AACA;AACA;AACA;AACA;;;AAEAO,EAAAA,mBAAmB,CAACC,KAAD,EAAQ;AACzB,SAAKC,QAAL,CAAc;AAAEX,MAAAA,aAAa,EAAEU,KAAK,CAACE,MAAN,CAAaC;AAA9B,KAAd;AACD;;AAEDC,EAAAA,aAAa,CAACJ,KAAD,EAAQ;AACnB,QAAI,KAAKZ,KAAL,CAAWE,aAAX,KAA6B,EAAjC,EAAqC;AACnC,WAAKH,KAAL,CAAWkB,aAAX,CAAyB,KAAKjB,KAAL,CAAWE,aAApC;AACA,WAAKW,QAAL,CAAc;AACZX,QAAAA,aAAa,EAAE;AADH,OAAd;AAGD;;AAEDU,IAAAA,KAAK,CAACM,cAAN;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACE;AAAI,QAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,OAAf;AAAA,oCAGE;AAAK,cAAA,SAAS,EAAC,aAAf;AAA6B,cAAA,EAAE,EAAC,YAAhC;AAAA,sCACE,QAAC,OAAD;AACE,gBAAA,MAAM,EAAE,IADV;AAEE,gBAAA,OAAO,EAAC,qBAFV;AAGE,gBAAA,IAAI,EAAC,YAHP;AAKE,gBAAA,QAAQ,EAAE;AALZ,iBAIO,CAJP;AAAA;AAAA;AAAA;AAAA,sBADF,eASE,QAAC,OAAD;AACE,gBAAA,MAAM,EAAE,KADV;AAEE,gBAAA,OAAO,EAAC,qBAFV;AAGE,gBAAA,IAAI,EAAC,YAHP;AAKE,gBAAA,QAAQ,EAAE;AALZ,iBAIO,CAJP;AAAA;AAAA;AAAA;AAAA,sBATF,eAiBE,QAAC,OAAD;AACE,gBAAA,MAAM,EAAE,KADV;AAEE,gBAAA,OAAO,EAAC,qBAFV;AAGE,gBAAA,IAAI,EAAC,YAHP;AAKE,gBAAA,QAAQ,EAAE;AALZ,iBAIO,CAJP;AAAA;AAAA;AAAA;AAAA,sBAjBF,EA0BI,KAAKpB,KAAL,CAAWqB,WAAX,CAAuBC,GAAvB,CAA2B,CAACN,KAAD,EAAQO,KAAR,KAAkB;AAC3C,oCACE,QAAC,OAAD;AACE,kBAAA,MAAM,EAAEP,KAAK,CAACQ,IAAN,KAAe,KAAKvB,KAAL,CAAWC,WAA1B,GAAwC,IAAxC,GAA+C,KADzD;AAEE,kBAAA,OAAO,EAAEc,KAAK,CAACS,OAFjB;AAGE,kBAAA,IAAI,EAAET,KAAK,CAACU,IAHd;AAKE,kBAAA,QAAQ,EAAEV,KAAK,CAACQ;AALlB,mBAIOD,KAJP;AAAA;AAAA;AAAA;AAAA,wBADF;AAUD,eAXD,CA1BJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,eA6CE;AAAK,cAAA,SAAS,EAAC,UAAf;AAAA,qCAGE;AAAK,gBAAA,SAAS,EAAC,iBAAf;AAAA,uCACE;AAAA,0CACE;AAAO,oBAAA,IAAI,EAAC,MAAZ;AAAmB,oBAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWE,aAArC;AAAoD,oBAAA,SAAS,EAAC,WAA9D;AAA0E,oBAAA,WAAW,EAAC,gBAAtF;AAAuG,oBAAA,QAAQ,EAAE,KAAKS,mBAAL,CAAyBe,IAAzB,CAA8B,IAA9B;AAAjH;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AAAQ,oBAAA,SAAS,EAAC,cAAlB;AAAiC,oBAAA,IAAI,EAAC,QAAtC;AAA+C,oBAAA,OAAO,EAAGC,CAAD,IAAO,KAAKX,aAAL,CAAmBW,CAAnB,CAA/D;AAAA,2CACE;AAAG,sBAAA,SAAS,EAAC,qBAAb;AAAmC,qCAAY;AAA/C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAHF;AAAA;AAAA;AAAA;AAAA,oBA7CF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAqED;;AAjHmC;;AAoHtC,eAAe9B,aAAf","sourcesContent":["import { Component } from 'react';\nimport '../pages/styles/ChatContainer.css';\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport Message from './message.component';\n\nclass ChatContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentUser: props.currentUser,\n      messageCommit: \"\"\n    }\n  }\n\n  componentDidMount() {\n    this.UpdateScroll();\n  }\n\n  UpdateScroll() {\n    let element = document.getElementById(\"msghistory\");\n    element.scrollTop = element.scrollHeight;\n  }\n\n  componentDidUpdate() {\n    this.UpdateScroll();\n  }\n\n  // componentWillReceiveProps(newProps) {\n  //   if (this.state.messHistory !== newProps.messHistory) {\n  //     this.setState({ messHistory: newProps.messHistory });\n  //   }\n  // }\n\n  ChangeMessageCommit(event) {\n    this.setState({ messageCommit: event.target.value });\n  }\n\n  CommitMessage(event) {\n    if (this.state.messageCommit !== \"\") {\n      this.props.commitMessage(this.state.messageCommit);\n      this.setState({\n        messageCommit: \"\"\n      })\n    }\n\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h3 className=\" text-center\">Messaging</h3>\n        <div className=\"messaging\">\n          <div className=\"inbox_msg\">\n            <div className=\"mesgs\">\n\n              {/*--- Mess history ---*/}\n              <div className=\"msg_history\" id=\"msghistory\">\n                <Message\n                  isUser={true}\n                  message=\"Hi there, i'm Hoang\"\n                  time=\"2020/01/02\"\n                  key={1}\n                  username={\"hoangnd\"}\n                >\n                </Message>\n                <Message\n                  isUser={false}\n                  message=\"Hi there, i'm Hoang\"\n                  time=\"2020/01/02\"\n                  key={2}\n                  username={\"hoangnd\"}\n                >\n                </Message>\n                <Message\n                  isUser={false}\n                  message=\"Hi there, i'm Hoang\"\n                  time=\"2020/01/02\"\n                  key={3}\n                  username={\"hoangnd\"}\n                >\n                </Message>\n                {\n                  this.props.messageList.map((value, index) => {\n                    return (\n                      <Message\n                        isUser={value.user === this.state.currentUser ? true : false}\n                        message={value.message}\n                        time={value.time}\n                        key={index}\n                        username={value.user}\n                      >\n                      </Message>\n                    );\n                  })\n                }\n              </div>\n              {/*--- End mess history ---*/}\n\n              <div className=\"type_msg\">\n\n                {/*--- Mess input field ---*/}\n                <div className=\"input_msg_write\">\n                  <form>\n                    <input type=\"text\" value={this.state.messageCommit} className=\"write_msg\" placeholder=\"Type a message\" onChange={this.ChangeMessageCommit.bind(this)} />\n                    <button className=\"msg_send_btn\" type=\"submit\" onClick={(e) => this.CommitMessage(e)}>\n                      <i className=\"fa fa-paper-plane-o\" aria-hidden=\"true\"></i>\n                    </button>\n                  </form>\n                </div>\n                {/*--- End mess input field ---*/}\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ChatContainer;\n"]},"metadata":{},"sourceType":"module"}